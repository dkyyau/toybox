<div class="container">
  <div class="row justify-content-center">
    <div class="col-6">
      <h1><%= @toy.name %></h1>
      <div class="d-flex">
        <div class="toy-img">
          <div class="toy-category">
            <%= @toy.category.name %>
          </div>
          <% if @toy.photo.attached? %>
            <%= cl_image_tag @toy.photo.key, height: 200, width: 200, crop: :fill, class: "img-thumbnail" %>
          <% else %>
            <img src="https://source.unsplash.com/qBrF1yu5Wys/300x300/" class="img-thumbnail" style="width: 200px; height: 200px; object-fit: cover;">
          <% end %>
          
        </div>
        <div class="toy-info">
          <h6>Name: <%= @toy.name %></h6>
          <p>Description:</p>
          <p> <%= @toy.description %></p>
          <p>Price per day: Â£<%= number_with_precision(@toy.price, precision: 2) %></p>
          <p>Pick-up location: <%= @toy.location %></p>
        </div>
      </div>

      <div>
        <% if @toy.user == current_user %>
          <%= link_to "Edit", edit_toy_path(@toy), class: 'btn btn-outline-warning' %>
        <% end %>
        <%= link_to "Back to toys", toys_path, class: 'btn btn-outline-secondary my-3 mr-3' %>
      </div>
    </div>

    <div class="col-4">
      <% if @toy.user == current_user %>
        <h1>No booking form</h1>
      <% else %>
        <%= render "offer_form", toy: @toy %>
        <div id="map"
          style="width: 300px; height: 300px;"
          data-markers="<%= @markers.to_json %>"
          data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>"></div>
      <% end %>
    </div>
  </div>
</div>
